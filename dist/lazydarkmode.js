"use strict";(()=>{function c(t,...e){try{t(...e)}catch(n){console.error(n)}}var i=class{constructor(){this.listeners=new Set}get size(){return this.listeners.size}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}has(e){return this.listeners.has(e)}emit(e){for(let n of this.listeners)c(n,e)}},u=class{constructor(){this.listeners=new Map}addListener(e,n){let r=this.listeners.get(e);r===void 0&&(r=new i,this.listeners.set(e,r)),r.addListener(n)}removeListener(e,n){let r=this.listeners.get(e);r!==void 0&&(r.removeListener(n),r.size===0&&this.listeners.delete(e))}emit(e,n){let r=this.listeners.get(e);r!==void 0&&r.emit(n)}};var m=(t,e,n)=>t+(e-t)*n;function L(){let t=w(document.documentElement);if(t[3]===0&&document.body&&(t=w(document.body)),t[3]===0)return"rgb(255, 255, 255)";let e=t[3],n=m(255,t[0],e)>>0,r=m(255,t[1],e)>>0,o=m(255,t[2],e)>>0;return`rgb(${n}, ${r}, ${o})`}function w(t){return t instanceof HTMLElement?F(getComputedStyle(t).backgroundColor):[0,0,0,0]}function F(t){let e=t.indexOf("("),n=t.indexOf(")"),[r,o,d,l]=t.substring(e+1,n).split(",");return[f(r),f(o),f(d),f(l)]}function f(t,e=0){if(t===void 0)return e;let n=parseInt(t,10);return isNaN(n)?e:n}var A=1e3,p=class extends i{constructor(){super();this.timeout=void 0;this.tick=()=>{let n=L();n!==this.currentColor&&(this.currentColor=n,this.emit(this.currentColor))};this.currentColor=L()}get listening(){return this.timeout!==void 0}listen(){this.listening||(this.timeout=setTimeout(this.tick,A))}stopListening(){this.listening&&(clearTimeout(this.timeout),this.timeout=void 0)}addListener(n){this.has(n)||(super.addListener(n),this.listen(),c(n,this.currentColor))}removeListener(n){super.removeListener(n),this.size===0&&this.stopListening()}};var s=new p,T={get current(){return s.currentColor},addListener:s.addListener.bind(s),removeListener:s.removeListener.bind(s)};var k=new Map;function N(t){if(k.has(t))return k.get(t)}function $(t,e){k.set(t,e)}function E(t){let e=t();if(e!==void 0)return e;let n=N(t);if(n!==void 0)return n;let r=new Promise(o=>{let d=()=>{let l=t();if(l!==void 0){o(l);return}requestAnimationFrame(d)};d()});return $(t,r),r}var V=()=>document.body??void 0,H=()=>E(V),Y=()=>document.head??void 0,O=()=>E(Y);var g=document.createElement("style"),v=!0;async function z(t=T.current){if(!v){g.innerHTML="";return}g.innerHTML=`@layer lowest { html { background-color: ${t}; } }`;let e=await O();e.children[0]!==g&&e.prepend(g)}function P(){T.addListener(z)}function I(t){v!==t&&(v=t,z())}var x="chroma_dark_mode",S="enabled",K="disabled",D=document.documentElement,_={enabled:!1,ignoreMedia:!0,defaultValue:K},h=class extends i{constructor(e){super(),this.config={..._,...e},this.config.ignoreMedia&&this.setIgnoreMedia(!0),this.config.enabled=(localStorage.getItem(x)??this.config.defaultValue)===S,this.config.enabled&&this.enable(!0)}toggle(){this.config.enabled?this.disable():this.enable()}disable(){this.config.enabled=!1,localStorage.setItem(x,K),D.removeAttribute("data-ldm"),this.emit(this.config.enabled)}enable(e=!1){this.config.enabled=!0,e||localStorage.setItem(x,S),D.setAttribute("data-ldm",this.dataAttr),this.emit(this.config.enabled)}get dataAttr(){return`invert${this.config.ignoreMedia?"-no-media":""}`}setIgnoreMedia(e){this.config.ignoreMedia=e,this.config.enabled&&this.enable()}};var B=`<style>
    .\u2202, .\u2202 * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        border: none;
        background: transparent;
        font-size: inherit;
    }

    .\u2202 {
        border: none;
        transition:
            display 0.15s allow-discrete,
            overlay 0.15s allow-discrete,
            opacity 0.15s ease-in-out,
            transform 0.15s ease-in-out;

        transform: translateY(10px);
        opacity: 0;
    }

    .\u2202::backdrop {
        transition:
            background-color 0.15s ease-in-out,
            backdrop-filter 0.15s ease-in-out;
        backdrop-filter: blur(0);
        background-color: rgba(0, 0, 0, 0);
        opacity: 1;
    }

    .\u2202[open] {
        opacity: 1;
        transform: translateY(0) scale(1);

        @starting-style {
            transform: translateY(10px);
            opacity: 0;
        }
    }

    .\u2202[open]::backdrop {
        backdrop-filter: blur(20px);
        background-color: rgba(0, 0, 0, 0.05);

        @starting-style {
            backdrop-filter: blur(0);
            background-color: rgba(0, 0, 0, 0);
        }
    }

    .\u2202 {
        border-radius: 4px;
        box-shadow: 5px 10px 10px rgba(0,0,0,0.4);
        padding: 20px;
        background: #0a0a0a;
        color: white;
        margin: auto;
        font-size: 16px;
        border: 1px solid #333;
    }

    .\u2202-content {
        all: unset;
    }

    .\u2202-content strong {
        display: block;
        margin-bottom: 1em;
        font-size: 1.2em;
        color: #246789;
    }

    .\u2202-content label {
        display: block;
        margin-top: 0.4em;
    }

    .\u2202-content input {
        margin-right: 5px;
    }

    .\u2202-content button {
        display: block;
        width: 100%;
        margin: 0;
        margin-top: 1em;
        border-radius: 4px;
        background: #222;
        border: none;
        color: white;
        cursor: pointer;
        padding: 0.8em;
    }
</style>

<form method="dialog" class="\u2202-content">
    <strong>Lazy Dark Mode Setting</strong>
    <label>
        <input type="checkbox" id="\u2202-ignore-media"/>
        Preserve images and videos
    </label>
    <button>Close</button>
</form>`;var a=class{constructor(e){this.isOpen=!1;this.handleIgnoreMediaToggle=e=>{if(!e.target)return;let r=!!e.target.checked;this.ldm.setIgnoreMedia(r),chrome.storage.sync.set({ignoreMedia:r})};this.ldm=e,this.element=this.createElement(),this.appendToBody()}async appendToBody(){(await H()).append(this.element)}createElement(){let e=document.createElement("dialog");e.className="\u2202",e.innerHTML=B,e.addEventListener("click",r=>{this.isClosed||this.isInsideElement(r.clientX,r.clientY,e)||this.close()});let n=e.querySelector("#\u2202-ignore-media");return n.checked=this.ldm.config.ignoreMedia,n.addEventListener("change",this.handleIgnoreMediaToggle),e}isOutsideElement(e,n,r){let o=r.getBoundingClientRect();return e<o.left||e>o.right||n<o.top||n>o.bottom}isInsideElement(e,n,r){return!this.isOutsideElement(e,n,r)}get isClosed(){return!this.isOpen}toggle(){this.isOpen?this.close():this.open()}open(){this.isOpen||!this.element||(this.isOpen=!0,this.element.showModal())}close(){!this.isOpen||!this.element||(this.isOpen=!1,this.element.close())}};var b=class extends u{constructor(){super();this.handleMessage=n=>{try{let r=JSON.parse(n.data);if(r.chroma!=="scripts"||typeof r.key!="string")return;this.emit(r.key)}catch{}};this.handleKeyPress=n=>{this.emit(n.key)};window.addEventListener("keydown",this.handleKeyPress,{capture:!0,passive:!0}),window.addEventListener("message",this.handleMessage)}destructor(){window.removeEventListener("keydown",this.handleKeyPress),window.removeEventListener("message",this.handleMessage)}};var y=new b,M=y.addListener.bind(y),Le=y.removeListener.bind(y);var C=new h,q=new a(C);P();C.addListener(I);M("\u2202",()=>C.toggle());M("\xCE",()=>q.toggle());})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL3V0aWwvc2FmZUNhbGwudHMiLCAiLi4vc3JjL3V0aWwvRW1pdHRlci50cyIsICIuLi9zcmMvdXRpbC9sZXJwLnRzIiwgIi4uL3NyYy9CYWNrZ3JvdW5kQ29sb3JMaXN0ZW5lci9nZXRCYWNrZ3JvdW5kQ29sb3IudHMiLCAiLi4vc3JjL0JhY2tncm91bmRDb2xvckxpc3RlbmVyL0JhY2tncm91bmRDb2xvckxpc3RlbmVyLnRzIiwgIi4uL3NyYy9CYWNrZ3JvdW5kQ29sb3JMaXN0ZW5lci9pbmRleC50cyIsICIuLi9zcmMvdXRpbC93YWl0Rm9yLnRzIiwgIi4uL3NyYy9MYXp5RGFya01vZGUvZm9yY2VFeHBsaWNpdEJhY2tncm91bmQudHMiLCAiLi4vc3JjL0xhenlEYXJrTW9kZS9MYXp5RGFya01vZGUudHMiLCAiLi4vc3JjL01lbnUvTWVudS5odG1sIiwgIi4uL3NyYy9NZW51L01lbnUudHMiLCAiLi4vc3JjL0tleUJpbmRpbmdzL0tleUJpbmRpbmdzLnRzIiwgIi4uL3NyYy9LZXlCaW5kaW5ncy9pbmRleC50cyIsICIuLi9zcmMvTGF6eURhcmtNb2RlL2luZGV4LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKipcbiAqIENhbGwgYSBmdW5jdGlvbiB3aXRob3V0IHJpc2sgb2YgdGhyb3dpbmcuIFdyaXRlIGVycm9ycyB0byBjb25zb2xlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FmZUNhbGw8VCBleHRlbmRzICguLi5hcmdzOiB1bmtub3duW10pID0+IHZvaWQ+KGZ1bmM6IFQsIC4uLmFyZ3M6IFBhcmFtZXRlcnM8VD4pOiB2b2lkXG57XG4gICAgdHJ5IHtcbiAgICAgICAgZnVuYyguLi5hcmdzKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXG4gICAgfVxufVxuIiwgImltcG9ydCB7IHNhZmVDYWxsIH0gZnJvbSAnLi9zYWZlQ2FsbCdcblxuZXhwb3J0IHR5cGUgSGFuZGxlcjxUID0gdm9pZD4gPSAoYXJnOiBUKSA9PiB2b2lkXG5cbmV4cG9ydCBpbnRlcmZhY2UgRW1pdHRlcjxUID0gdm9pZD5cbntcbiAgICBnZXQgc2l6ZSgpOiBudW1iZXJcbiAgICBhZGRMaXN0ZW5lcihoYW5kbGVyOiBIYW5kbGVyPFQ+KTp2b2lkXG4gICAgcmVtb3ZlTGlzdGVuZXIoaGFuZGxlcjogSGFuZGxlcjxUPik6dm9pZFxuICAgIGhhcyhoYW5kbGVyOiBIYW5kbGVyPFQ+KTogYm9vbGVhblxuICAgIGVtaXQobWVzc2FnZTogVCk6IHZvaWRcbn1cblxuZXhwb3J0IGNsYXNzIFNpbXBsZUVtaXR0ZXI8VCA9IHZvaWQ+IGltcGxlbWVudHMgRW1pdHRlcjxUPlxue1xuICAgIGxpc3RlbmVyczogU2V0PEhhbmRsZXI8VD4+ID0gbmV3IFNldCgpXG5cbiAgICBnZXQgc2l6ZSgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVycy5zaXplXG4gICAgfVxuXG4gICAgYWRkTGlzdGVuZXIoaGFuZGxlcjogSGFuZGxlcjxUPilcbiAgICB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmFkZChoYW5kbGVyKVxuICAgIH1cblxuICAgIHJlbW92ZUxpc3RlbmVyKGhhbmRsZXI6IEhhbmRsZXI8VD4pXG4gICAge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUoaGFuZGxlcilcbiAgICB9XG5cbiAgICBoYXMoaGFuZGxlcjogSGFuZGxlcjxUPilcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVycy5oYXMoaGFuZGxlcilcbiAgICB9XG4gICAgXG4gICAgZW1pdChtZXNzYWdlOiBUKVxuICAgIHtcbiAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIHRoaXMubGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBzYWZlQ2FsbChoYW5kbGVyLCBtZXNzYWdlKVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcGxleEVtaXR0ZXI8SyA9IHN0cmluZywgVCA9IHZvaWQ+XG57XG4gICAgbGlzdGVuZXJzOiBNYXA8SywgRW1pdHRlcjxUPj4gPSBuZXcgTWFwKClcblxuICAgIGFkZExpc3RlbmVyKGtleTogSywgaGFuZGxlcjogSGFuZGxlcjxUPilcbiAgICB7XG4gICAgICAgIGxldCBlbWl0dGVyID0gdGhpcy5saXN0ZW5lcnMuZ2V0KGtleSkhXG5cbiAgICAgICAgaWYgKGVtaXR0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZW1pdHRlciA9IG5ldyBTaW1wbGVFbWl0dGVyKClcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzLnNldChrZXksIGVtaXR0ZXIpXG4gICAgICAgIH1cblxuICAgICAgICBlbWl0dGVyLmFkZExpc3RlbmVyKGhhbmRsZXIpXG4gICAgfVxuXG4gICAgcmVtb3ZlTGlzdGVuZXIoa2V5OiBLLCBoYW5kbGVyOiBIYW5kbGVyPFQ+KVxuICAgIHtcbiAgICAgICAgY29uc3QgZW1pdHRlciA9IHRoaXMubGlzdGVuZXJzLmdldChrZXkpIVxuICAgICAgICBpZiAoZW1pdHRlciA9PT0gdW5kZWZpbmVkKSByZXR1cm5cblxuICAgICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGhhbmRsZXIpXG4gICAgICAgIGlmIChlbWl0dGVyLnNpemUgPT09IDApIHRoaXMubGlzdGVuZXJzLmRlbGV0ZShrZXkpXG4gICAgfVxuICAgIFxuICAgIGVtaXQoa2V5OiBLLCBtZXNzYWdlOiBUKVxuICAgIHtcbiAgICAgICAgY29uc3QgZW1pdHRlciA9IHRoaXMubGlzdGVuZXJzLmdldChrZXkpIVxuICAgICAgICBpZiAoZW1pdHRlciA9PT0gdW5kZWZpbmVkKSByZXR1cm5cblxuICAgICAgICBlbWl0dGVyLmVtaXQobWVzc2FnZSlcbiAgICB9XG59XG4iLCAiLyoqXG4gKiBMaW5lYXIgaW50ZXJwb2xhdGUgYmV0d2VlbiB0d28gdmFsdWVzLCBhIGFuZCBiLlxuICpcbiAqIEBwYXJhbSBhIFxuICogQHBhcmFtIGIgXG4gKiBAcGFyYW0gdCBWYWx1ZSBiZXR3ZWVuIDAgYW5kIDFcbiAqXG4gKiBAcmV0dXJucyBUaGUgaW50ZXJwb2xhdGVkIHZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBsZXJwID0gKGE6IG51bWJlciwgYjogbnVtYmVyLCB0OiBudW1iZXIpID0+IGEgKyAoYiAtIGEpICogdFxuIiwgImltcG9ydCB7IENvbG9yLCBQYXJzZWRDb2xvciB9IGZyb20gJy4vdHlwZXMnXG5cbmltcG9ydCB7IGxlcnAgfSBmcm9tICdjaHJvbWEvdXRpbC9sZXJwJ1xuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgZG9jdW1lbnQuIFN1cHBvcnRzIGJvZHkgQU5EIGh0bWwgZWxlbWVudHNcbiAqIGJlY2F1c2UgZWl0aGVyIG9uZSBvZiB0aG9zZSBjYW4gc2V0IHRoZSB2aWV3cG9ydCBiYWNrZ3JvdW5kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QmFja2dyb3VuZENvbG9yICgpOiBDb2xvclxue1xuICAgIGxldCBjb2xvciA9IGdldEVsZW1lbnRDb2xvcihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpXG4gICAgaWYgKGNvbG9yWzNdID09PSAwICYmIGRvY3VtZW50LmJvZHkpIGNvbG9yID0gZ2V0RWxlbWVudENvbG9yKGRvY3VtZW50LmJvZHkpXG4gICAgaWYgKGNvbG9yWzNdID09PSAwKSByZXR1cm4gJ3JnYigyNTUsIDI1NSwgMjU1KSdcblxuICAgIGNvbnN0IGEgPSBjb2xvclszXVxuICAgIGNvbnN0IHIgPSBsZXJwKDI1NSwgY29sb3JbMF0sIGEpID4+IDBcbiAgICBjb25zdCBnID0gbGVycCgyNTUsIGNvbG9yWzFdLCBhKSA+PiAwXG4gICAgY29uc3QgYiA9IGxlcnAoMjU1LCBjb2xvclsyXSwgYSkgPj4gMFxuXG4gICAgcmV0dXJuIGByZ2IoJHtyfSwgJHtnfSwgJHtifSlgXG59XG5cbi8qKlxuICogR2V0IHRoZSBjb21wdXRlZCBiYWNrZ3JvdW5kIGNvbG9yIG9mIGFuIGVsZW1lbnQuIFJldHVybnMgdHJhbnNwYXJlbnRcbiAqIGlmIHRoZSBlbGVtZW50IGlzIG5vbmV4aXN0ZW50LlxuICovXG5mdW5jdGlvbiAgZ2V0RWxlbWVudENvbG9yIChtYXliZUVsZW1lbnQ/OiBIVE1MRWxlbWVudCk6IFBhcnNlZENvbG9yXG57XG4gICAgaWYgKG1heWJlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID09PSBmYWxzZSkgcmV0dXJuIFswLCAwLCAwLCAwXVxuICAgIHJldHVybiBwYXJzZUNvbG9yKGdldENvbXB1dGVkU3R5bGUobWF5YmVFbGVtZW50KS5iYWNrZ3JvdW5kQ29sb3IpXG59XG5cbi8qKlxuICogUGFyc2UgYSBjb2xvciBmcm9tIGFuIHJnYmEoKSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uICBwYXJzZUNvbG9yIChjb2xvcjogc3RyaW5nKTogUGFyc2VkQ29sb3JcbntcbiAgICBjb25zdCBvcGVuID0gY29sb3IuaW5kZXhPZignKCcpXG4gICAgY29uc3QgY2xvc2UgPSBjb2xvci5pbmRleE9mKCcpJylcbiAgICBjb25zdCBbciwgZywgYiwgYV0gPSBjb2xvci5zdWJzdHJpbmcob3BlbiArIDEsIGNsb3NlKS5zcGxpdCgnLCcpXG4gICAgcmV0dXJuIFtpbnQociksIGludChnKSwgaW50KGIpLCBpbnQoYSldXG59XG5cbi8qKlxuICogQ29udmVydCBhIHN0cmluZyB0byBhIG51bWJlci4gSWYgdGhlIHN0cmluZyBpcyBtYWxmb3JtZWQgb3IgaWZcbiAqIGl0IGlzIG5vdCBwcm92aWRlZCwgcmV0dXJuIGEgZmFsbGJhY2suXG4gKi9cbmZ1bmN0aW9uIGludCh2YWx1ZT86IHN0cmluZywgZmFsbGJhY2s6IG51bWJlciA9IDApOiBudW1iZXJcbntcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbGxiYWNrXG5cbiAgICBjb25zdCBvcCA9IHBhcnNlSW50KHZhbHVlLCAxMClcbiAgICBpZiAoaXNOYU4ob3ApKSByZXR1cm4gZmFsbGJhY2tcblxuICAgIHJldHVybiBvcFxufSIsICJpbXBvcnQgeyBDb2xvciwgQ29sb3JIYW5kbGVyIH0gZnJvbSAnLi90eXBlcydcblxuaW1wb3J0IHsgU2ltcGxlRW1pdHRlciB9IGZyb20gJ2Nocm9tYS91dGlsL0VtaXR0ZXInXG5pbXBvcnQgeyBnZXRCYWNrZ3JvdW5kQ29sb3IgfSBmcm9tICcuL2dldEJhY2tncm91bmRDb2xvcidcbmltcG9ydCB7IHNhZmVDYWxsIH0gZnJvbSAnY2hyb21hL3V0aWwvc2FmZUNhbGwnXG5cbmNvbnN0IFBPTExfSU5URVJWQUwgPSAxMDAwXG5cbmV4cG9ydCBjbGFzcyBCYWNrZ3JvdW5kQ29sb3JMaXN0ZW5lciBleHRlbmRzIFNpbXBsZUVtaXR0ZXI8Q29sb3I+XG57XG4gICAgcHJpdmF0ZSB0aW1lb3V0OiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWRcbiAgICBjdXJyZW50Q29sb3I6IENvbG9yXG5cbiAgICBwcml2YXRlIGdldCBsaXN0ZW5pbmcoKTogYm9vbGVhblxuICAgIHsgcmV0dXJuIHRoaXMudGltZW91dCAhPT0gdW5kZWZpbmVkIH1cblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5jdXJyZW50Q29sb3IgPSBnZXRCYWNrZ3JvdW5kQ29sb3IoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHRoZSBwb2xsIHRpbWVvdXQuIElmIGl0J3MgYWxyZWFkeSBydW5uaW5nLCBkbyBub3RoaW5nLlxuICAgICAqL1xuICAgIHByaXZhdGUgbGlzdGVuKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmxpc3RlbmluZykgcmV0dXJuXG4gICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQodGhpcy50aWNrLCBQT0xMX0lOVEVSVkFMKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBwb2xsIHRpbWVvdXQuIElmIGl0J3Mgbm90IHJ1bm5pbmcsIGRvIG5vdGhpbmcuXG4gICAgICovXG4gICAgcHJpdmF0ZSBzdG9wTGlzdGVuaW5nKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5saXN0ZW5pbmcpIHJldHVyblxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KVxuICAgICAgICB0aGlzLnRpbWVvdXQgPSB1bmRlZmluZWRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9sbCBoYW5kbGVyLiBHZXRzIHRoZSBjdXJyZW50IGJhY2tncm91bmQgY29sb3IsIGNoZWNrcyBpZiBpdCdzIGNoYW5nZWQsXG4gICAgICogYW5kIGlmIHNvLCBub3RpZmllcyBoYW5kbGVycy5cbiAgICAgKi9cbiAgICBwcml2YXRlIHRpY2sgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gZ2V0QmFja2dyb3VuZENvbG9yKClcbiAgICAgICAgaWYgKGNvbG9yID09PSB0aGlzLmN1cnJlbnRDb2xvcikgcmV0dXJuXG4gICAgICAgIFxuICAgICAgICB0aGlzLmN1cnJlbnRDb2xvciA9IGNvbG9yXG4gICAgICAgIHRoaXMuZW1pdCh0aGlzLmN1cnJlbnRDb2xvcilcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIG5ldyBoYW5kbGVyLlxuICAgICAqL1xuICAgIGFkZExpc3RlbmVyKGhhbmRsZXI6IENvbG9ySGFuZGxlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmhhcyhoYW5kbGVyKSkgcmV0dXJuXG5cbiAgICAgICAgc3VwZXIuYWRkTGlzdGVuZXIoaGFuZGxlcilcbiAgICAgICAgdGhpcy5saXN0ZW4oKVxuXG4gICAgICAgIC8vIGltbWVkaWF0ZWx5IGNhbGxcbiAgICAgICAgc2FmZUNhbGwoaGFuZGxlciwgdGhpcy5jdXJyZW50Q29sb3IpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlciBhIGhhbmRsZXIuXG4gICAgICovXG4gICAgcmVtb3ZlTGlzdGVuZXIoaGFuZGxlcjogQ29sb3JIYW5kbGVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIucmVtb3ZlTGlzdGVuZXIoaGFuZGxlcilcbiAgICAgICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkgdGhpcy5zdG9wTGlzdGVuaW5nKClcbiAgICB9XG59IiwgImltcG9ydCB7IEJhY2tncm91bmRDb2xvckxpc3RlbmVyIH0gZnJvbSAnLi9CYWNrZ3JvdW5kQ29sb3JMaXN0ZW5lcidcblxuY29uc3QgYmNsID0gbmV3IEJhY2tncm91bmRDb2xvckxpc3RlbmVyKClcblxuZXhwb3J0IGNvbnN0IGJhY2tncm91bmRDb2xvciA9IHtcbiAgICBnZXQgY3VycmVudCgpIHsgcmV0dXJuIGJjbC5jdXJyZW50Q29sb3IgfSxcbiAgICBhZGRMaXN0ZW5lcjogYmNsLmFkZExpc3RlbmVyLmJpbmQoYmNsKSBhcyB0eXBlb2YgYmNsLmFkZExpc3RlbmVyLFxuICAgIHJlbW92ZUxpc3RlbmVyOiBiY2wucmVtb3ZlTGlzdGVuZXIuYmluZChiY2wpIGFzIHR5cGVvZiBiY2wucmVtb3ZlTGlzdGVuZXJcbn1cbiIsICJ0eXBlIEF3YWl0YWJsZTxUPiA9IFQgfCBQcm9taXNlPFQ+XG5cbmNvbnN0IHByb21pc2VDYWNoZTogTWFwPCgpID0+IHVua25vd24sIFByb21pc2U8dW5rbm93bj4+ID0gbmV3IE1hcCgpXG5mdW5jdGlvbiBnZXRDYWNoZWQ8VD4oY2I6ICgpID0+IFR8dW5kZWZpbmVkKTogUHJvbWlzZTxUPiB8IHVuZGVmaW5lZFxue1xuICAgIGlmICghcHJvbWlzZUNhY2hlLmhhcyhjYikpIHJldHVybiB1bmRlZmluZWRcbiAgICByZXR1cm4gcHJvbWlzZUNhY2hlLmdldChjYikgYXMgdW5rbm93biBhcyBQcm9taXNlPFQ+XG59XG5cbmZ1bmN0aW9uIHNldENhY2hlZDxUPihjYjogKCkgPT4gVCB8IHVuZGVmaW5lZCwgcHJvbWlzZTogUHJvbWlzZTxUPilcbntcbiAgICBwcm9taXNlQ2FjaGUuc2V0KGNiLCBwcm9taXNlKVxufVxuXG4vKipcbiAqIFdhaXRzIGZvciBhIGZ1bmN0aW9uIHRvIHJlc29sdmUgdG8gYSBub24tdW5kZWZpbmVkIHZhbHVlLCBhbmQgcmVzb2x2ZXMgYSBwcm9taXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd2FpdEZvcjxUPihjYjogKCkgPT4gVCB8IHVuZGVmaW5lZCk6IEF3YWl0YWJsZTxUPlxue1xuICAgIGNvbnN0IHZhbHVlID0gY2IoKVxuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gdmFsdWVcblxuICAgIGNvbnN0IHByb21pc2UgPSBnZXRDYWNoZWQoY2IpXG4gICAgaWYgKHByb21pc2UgIT09IHVuZGVmaW5lZCkgcmV0dXJuIHByb21pc2VcblxuICAgIGNvbnN0IGNhY2hlZCA9IG5ldyBQcm9taXNlPFQ+KChyZXNvbHZlKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgbG9vcCA9ICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY2IoKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKVxuICAgICAgICB9XG5cbiAgICAgICAgbG9vcCgpXG4gICAgfSlcblxuICAgIHNldENhY2hlZChjYiwgY2FjaGVkKVxuICAgIHJldHVybiBjYWNoZWRcbn1cblxuY29uc3QgYm9keSA9ICgpID0+IGRvY3VtZW50LmJvZHkgPz8gdW5kZWZpbmVkXG5leHBvcnQgY29uc3Qgd2FpdEZvckJvZHkgPSAoKSA9PiB3YWl0Rm9yKGJvZHkpXG5cbmNvbnN0IGhlYWQgPSAoKSA9PiBkb2N1bWVudC5oZWFkID8/IHVuZGVmaW5lZFxuZXhwb3J0IGNvbnN0IHdhaXRGb3JIZWFkID0gKCkgPT4gd2FpdEZvcihoZWFkKVxuIiwgImltcG9ydCB7IENvbG9yIH0gZnJvbSAnY2hyb21hL0JhY2tncm91bmRDb2xvckxpc3RlbmVyL3R5cGVzJ1xuaW1wb3J0IHsgYmFja2dyb3VuZENvbG9yIH0gZnJvbSAnY2hyb21hL0JhY2tncm91bmRDb2xvckxpc3RlbmVyJ1xuaW1wb3J0IHsgd2FpdEZvckhlYWQgfSBmcm9tICdjaHJvbWEvdXRpbC93YWl0Rm9yJ1xuXG5jb25zdCBlYXJsaWVzdFN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKVxuXG5sZXQgZW5hYmxlZCA9IHRydWVcblxuLy8gRW5zdXJlIHRoZSBiYWNrZ3JvdW5kIGNvbG9yIGlzIHNldCBleHBsaWNpdGx5XG5hc3luYyBmdW5jdGlvbiB1cGRhdGVIVE1MQmFja2dyb3VuZChjb2xvcjogQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3IuY3VycmVudClcbntcbiAgICAvLyBFYXJseSByZXR1cm4gYW5kIGNsZWFyIGlmIHdlJ3JlIG5vdCBpbnZlcnRpbmcgYW55dGhpbmcuXG4gICAgaWYgKCFlbmFibGVkKSB7XG4gICAgICAgIGVhcmxpZXN0U3R5bGUuaW5uZXJIVE1MID0gJydcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHN0eWxlc1xuICAgIGVhcmxpZXN0U3R5bGUuaW5uZXJIVE1MID0gYEBsYXllciBsb3dlc3QgeyBodG1sIHsgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvcn07IH0gfWBcblxuICAgIC8vIE1vdmUgdG8gc3RhcnQgb2YgaGVhZCBmb3IgbG93ZXN0IHBvc3NpYmxlIHNwZWNpZmljaXR5XG4gICAgY29uc3QgaGVhZCA9IGF3YWl0IHdhaXRGb3JIZWFkKClcbiAgICBpZiAoaGVhZC5jaGlsZHJlblswXSAhPT0gZWFybGllc3RTdHlsZSkgaGVhZC5wcmVwZW5kKGVhcmxpZXN0U3R5bGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JjZUV4cGxpY2l0QmFja2dyb3VuZCgpXG57XG4gICAgYmFja2dyb3VuZENvbG9yLmFkZExpc3RlbmVyKHVwZGF0ZUhUTUxCYWNrZ3JvdW5kKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0RW5hYmxlZCh2YWx1ZTogYm9vbGVhbilcbntcbiAgICBpZiAoZW5hYmxlZCA9PT0gdmFsdWUpIHJldHVyblxuICAgIGVuYWJsZWQgPSB2YWx1ZVxuICAgIHVwZGF0ZUhUTUxCYWNrZ3JvdW5kKClcbn1cbiIsICJpbXBvcnQgeyBTaW1wbGVFbWl0dGVyIH0gZnJvbSAnY2hyb21hL3V0aWwvRW1pdHRlcidcblxuY29uc3QgREFSS19NT0RFID0gJ2Nocm9tYV9kYXJrX21vZGUnXG5jb25zdCBPTiA9ICdlbmFibGVkJ1xuY29uc3QgT0ZGID0gJ2Rpc2FibGVkJ1xuXG5jb25zdCBodG1sID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG5cbmludGVyZmFjZSBMYXp5RGFya01vZGVDb25maWdcbntcbiAgICAvLyBXaGV0aGVyIGxhenkgZGFyayBtb2RlIGlzIGVuYWJsZWRcbiAgICBlbmFibGVkOiBib29sZWFuLFxuXG4gICAgLy8gV2hldGhlciBvciBub3Qgd2Ugc2hvdWxkIGlnbm9yZSBtZWRpYSAoaW1nLCB2aWRlbywgaWZyYW1lcylcbiAgICBpZ25vcmVNZWRpYTogYm9vbGVhbixcblxuICAgIC8vIERlZmF1bHQgZGFyayBtb2RlIGZvciBuZXcgcGFnZXNcbiAgICBkZWZhdWx0VmFsdWU6IHR5cGVvZiBPRkYgfCB0eXBlb2YgT04sXG59XG5cbmNvbnN0IGRlZmF1bHRDb25maWc6IExhenlEYXJrTW9kZUNvbmZpZyA9IHtcbiAgICBlbmFibGVkOiBmYWxzZSxcblxuICAgIGlnbm9yZU1lZGlhOiB0cnVlLFxuXG4gICAgZGVmYXVsdFZhbHVlOiBPRkZcbn1cblxuLyoqXG4gKiBUaGlzIGNsYXNzIG1hbmFnZXMgdGhlIGxvY2FsIHN0YXRlIGZvciBMRE1cbiAqL1xuZXhwb3J0IGNsYXNzIExhenlEYXJrTW9kZSBleHRlbmRzIFNpbXBsZUVtaXR0ZXI8Ym9vbGVhbj5cbntcbiAgICBjb25maWc6IExhenlEYXJrTW9kZUNvbmZpZ1xuXG4gICAgY29uc3RydWN0b3IoY29uZmlnPzogUGFydGlhbDxMYXp5RGFya01vZGVDb25maWc+KVxuICAgIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLmNvbmZpZyA9IHsgLi4uZGVmYXVsdENvbmZpZywgLi4uY29uZmlnIH1cblxuICAgICAgICBpZiAodGhpcy5jb25maWcuaWdub3JlTWVkaWEpIHRoaXMuc2V0SWdub3JlTWVkaWEodHJ1ZSlcblxuICAgICAgICAvLyBMb29rdXAgdGhlIGN1cnJlbnQgTERNIHN0YXRlLlxuICAgICAgICB0aGlzLmNvbmZpZy5lbmFibGVkID0gKGxvY2FsU3RvcmFnZS5nZXRJdGVtKERBUktfTU9ERSkgPz8gdGhpcy5jb25maWcuZGVmYXVsdFZhbHVlKSA9PT0gT05cblxuICAgICAgICAvLyBTeW5jIHdpdGggdGhlIGRvYy5cbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZWQpIHRoaXMuZW5hYmxlKHRydWUpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxpcCB0aGUgTERNIHN0YXRlXG4gICAgICovXG4gICAgdG9nZ2xlICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlZCkgdGhpcy5kaXNhYmxlKClcbiAgICAgICAgZWxzZSB0aGlzLmVuYWJsZSgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFueSBkb2N1bWVudCBsZXZlbCBmaWx0ZXJpbmcuXG4gICAgICogXG4gICAgICogQWxzbyB1cGRhdGVzIGxvY2FsIHN0b3JhZ2UuXG4gICAgICovXG4gICAgZGlzYWJsZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jb25maWcuZW5hYmxlZCA9IGZhbHNlXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKERBUktfTU9ERSwgT0ZGKVxuICAgICAgICBodG1sLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1sZG0nKVxuICAgICAgICB0aGlzLmVtaXQodGhpcy5jb25maWcuZW5hYmxlZClcbiAgICAgICAgLy8gZWFybGllc3RTdHlsZS5pbm5lckhUTUwgPSAnJ1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFR1cm4gb24gZG9jdW1lbnQgZmlsdGVyaW5nLlxuICAgICAqIFxuICAgICAqIEFsc28gdXBkYXRlcyBsb2NhbCBzdG9yYWdlLlxuICAgICAqL1xuICAgIGVuYWJsZSAoc2tpcFVwZGF0ZTogYm9vbGVhbiA9IGZhbHNlKVxuICAgIHtcbiAgICAgICAgdGhpcy5jb25maWcuZW5hYmxlZCA9IHRydWVcbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShEQVJLX01PREUsIE9OKVxuICAgICAgICBodG1sLnNldEF0dHJpYnV0ZSgnZGF0YS1sZG0nLCB0aGlzLmRhdGFBdHRyKVxuICAgICAgICB0aGlzLmVtaXQodGhpcy5jb25maWcuZW5hYmxlZClcbiAgICAgICAgLy8gdXBkYXRlSFRNTEJhY2tncm91bmQoKVxuICAgIH1cblxuICAgIGdldCBkYXRhQXR0ciAoKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc3VmZml4ID0gdGhpcy5jb25maWcuaWdub3JlTWVkaWEgPyAnLW5vLW1lZGlhJyA6ICcnXG4gICAgICAgIHJldHVybiBgaW52ZXJ0JHtzdWZmaXh9YFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZSB0aGUgaWdub3JlTWVkaWEgdmFsdWUsIGFuZCBsaXZlIHVwZGF0ZSB0aGUgZG9jIGlmIG5lY2Vzc2FyeS5cbiAgICAgKi9cbiAgICBzZXRJZ25vcmVNZWRpYSAodmFsdWU6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICB0aGlzLmNvbmZpZy5pZ25vcmVNZWRpYSA9IHZhbHVlXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVkKSB0aGlzLmVuYWJsZSgpXG4gICAgfVxufSIsICI8c3R5bGU+XG4gICAgLlx1MjIwMiwgLlx1MjIwMiAqIHtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICBmb250LXNpemU6IGluaGVyaXQ7XG4gICAgfVxuXG4gICAgLlx1MjIwMiB7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgdHJhbnNpdGlvbjpcbiAgICAgICAgICAgIGRpc3BsYXkgMC4xNXMgYWxsb3ctZGlzY3JldGUsXG4gICAgICAgICAgICBvdmVybGF5IDAuMTVzIGFsbG93LWRpc2NyZXRlLFxuICAgICAgICAgICAgb3BhY2l0eSAwLjE1cyBlYXNlLWluLW91dCxcbiAgICAgICAgICAgIHRyYW5zZm9ybSAwLjE1cyBlYXNlLWluLW91dDtcblxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTBweCk7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgfVxuXG4gICAgLlx1MjIwMjo6YmFja2Ryb3Age1xuICAgICAgICB0cmFuc2l0aW9uOlxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvciAwLjE1cyBlYXNlLWluLW91dCxcbiAgICAgICAgICAgIGJhY2tkcm9wLWZpbHRlciAwLjE1cyBlYXNlLWluLW91dDtcbiAgICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDApO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgIH1cblxuICAgIC5cdTIyMDJbb3Blbl0ge1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCkgc2NhbGUoMSk7XG5cbiAgICAgICAgQHN0YXJ0aW5nLXN0eWxlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMHB4KTtcbiAgICAgICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAuXHUyMjAyW29wZW5dOjpiYWNrZHJvcCB7XG4gICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigyMHB4KTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjA1KTtcblxuICAgICAgICBAc3RhcnRpbmctc3R5bGUge1xuICAgICAgICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDApO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC5cdTIyMDIge1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGJveC1zaGFkb3c6IDVweCAxMHB4IDEwcHggcmdiYSgwLDAsMCwwLjQpO1xuICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiAjMGEwYTBhO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIG1hcmdpbjogYXV0bztcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjMzMzO1xuICAgIH1cblxuICAgIC5cdTIyMDItY29udGVudCB7XG4gICAgICAgIGFsbDogdW5zZXQ7XG4gICAgfVxuXG4gICAgLlx1MjIwMi1jb250ZW50IHN0cm9uZyB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxZW07XG4gICAgICAgIGZvbnQtc2l6ZTogMS4yZW07XG4gICAgICAgIGNvbG9yOiAjMjQ2Nzg5O1xuICAgIH1cblxuICAgIC5cdTIyMDItY29udGVudCBsYWJlbCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBtYXJnaW4tdG9wOiAwLjRlbTtcbiAgICB9XG5cbiAgICAuXHUyMjAyLWNvbnRlbnQgaW5wdXQge1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICB9XG5cbiAgICAuXHUyMjAyLWNvbnRlbnQgYnV0dG9uIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIG1hcmdpbi10b3A6IDFlbTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBiYWNrZ3JvdW5kOiAjMjIyO1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBwYWRkaW5nOiAwLjhlbTtcbiAgICB9XG48L3N0eWxlPlxuXG48Zm9ybSBtZXRob2Q9XCJkaWFsb2dcIiBjbGFzcz1cIlx1MjIwMi1jb250ZW50XCI+XG4gICAgPHN0cm9uZz5MYXp5IERhcmsgTW9kZSBTZXR0aW5nPC9zdHJvbmc+XG4gICAgPGxhYmVsPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJcdTIyMDItaWdub3JlLW1lZGlhXCIvPlxuICAgICAgICBQcmVzZXJ2ZSBpbWFnZXMgYW5kIHZpZGVvc1xuICAgIDwvbGFiZWw+XG4gICAgPGJ1dHRvbj5DbG9zZTwvYnV0dG9uPlxuPC9mb3JtPiIsICJpbXBvcnQgeyBMYXp5RGFya01vZGUgfSBmcm9tICdjaHJvbWEvTGF6eURhcmtNb2RlL0xhenlEYXJrTW9kZSdcbmltcG9ydCBtZW51TWFya3VwIGZyb20gJy4vTWVudS5odG1sJ1xuaW1wb3J0IHsgd2FpdEZvckJvZHkgfSBmcm9tICdjaHJvbWEvdXRpbC93YWl0Rm9yJ1xuXG5leHBvcnQgY2xhc3MgTWVudVxue1xuICAgIGlzT3BlbjogYm9vbGVhbiA9IGZhbHNlXG5cbiAgICBlbGVtZW50OiBIVE1MRGlhbG9nRWxlbWVudFxuXG4gICAgbGRtOiBMYXp5RGFya01vZGVcblxuICAgIGNvbnN0cnVjdG9yKGxkbTogTGF6eURhcmtNb2RlKVxuICAgIHtcbiAgICAgICAgdGhpcy5sZG0gPSBsZG1cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gdGhpcy5jcmVhdGVFbGVtZW50KClcbiAgICAgICAgdGhpcy5hcHBlbmRUb0JvZHkoKVxuICAgIH1cblxuICAgIGFzeW5jIGFwcGVuZFRvQm9keSgpXG4gICAge1xuICAgICAgICBjb25zdCBib2R5ID0gYXdhaXQgd2FpdEZvckJvZHkoKVxuICAgICAgICBib2R5LmFwcGVuZCh0aGlzLmVsZW1lbnQpXG4gICAgfVxuXG4gICAgY3JlYXRlRWxlbWVudCgpOiBIVE1MRGlhbG9nRWxlbWVudFxuICAgIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpYWxvZycpXG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gJ1x1MjIwMidcbiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBtZW51TWFya3VwXG5cbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNDbG9zZWQpIHJldHVyblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNJbnNpZGVFbGVtZW50KGUuY2xpZW50WCwgZS5jbGllbnRZLCBlbGVtZW50KSkgcmV0dXJuXG4gICAgICAgICAgICB0aGlzLmNsb3NlKClcbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCBpZ25vcmVNZWRpYUlucHV0ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjXHUyMjAyLWlnbm9yZS1tZWRpYScpIGFzIEhUTUxJbnB1dEVsZW1lbnRcbiAgICAgICAgaWdub3JlTWVkaWFJbnB1dC5jaGVja2VkID0gdGhpcy5sZG0uY29uZmlnLmlnbm9yZU1lZGlhXG4gICAgICAgIGlnbm9yZU1lZGlhSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5oYW5kbGVJZ25vcmVNZWRpYVRvZ2dsZSlcblxuICAgICAgICByZXR1cm4gZWxlbWVudFxuICAgIH1cblxuICAgIHByaXZhdGUgaXNPdXRzaWRlRWxlbWVudCAoeDogbnVtYmVyLCB5OiBudW1iZXIsIGVsZW1lbnQ6IEhUTUxFbGVtZW50KVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBcbiAgICAgICAgaWYgKHggPCByZWN0LmxlZnQpIHJldHVybiB0cnVlXG4gICAgICAgIGlmICh4ID4gcmVjdC5yaWdodCkgcmV0dXJuIHRydWVcbiAgICAgICAgaWYgKHkgPCByZWN0LnRvcCkgcmV0dXJuIHRydWVcbiAgICAgICAgaWYgKHkgPiByZWN0LmJvdHRvbSkgcmV0dXJuIHRydWVcbiAgICBcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0luc2lkZUVsZW1lbnQgKHg6IG51bWJlciwgeTogbnVtYmVyLCBlbGVtZW50OiBIVE1MRWxlbWVudClcbiAgICB7XG4gICAgICAgIHJldHVybiAhdGhpcy5pc091dHNpZGVFbGVtZW50KHgsIHksIGVsZW1lbnQpXG4gICAgfVxuXG4gICAgZ2V0IGlzQ2xvc2VkICgpXG4gICAge1xuICAgICAgICByZXR1cm4gIXRoaXMuaXNPcGVuXG4gICAgfVxuXG4gICAgdG9nZ2xlICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pc09wZW4pIHRoaXMuY2xvc2UoKVxuICAgICAgICBlbHNlIHRoaXMub3BlbigpXG4gICAgfVxuXG4gICAgb3BlbiAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaXNPcGVuIHx8ICF0aGlzLmVsZW1lbnQpIHJldHVyblxuICAgICAgICB0aGlzLmlzT3BlbiA9IHRydWVcbiAgICAgICAgdGhpcy5lbGVtZW50LnNob3dNb2RhbCgpXG4gICAgfVxuXG4gICAgY2xvc2UgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5pc09wZW4gfHwgIXRoaXMuZWxlbWVudCkgcmV0dXJuXG4gICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2VcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsb3NlKClcbiAgICB9XG5cbiAgICBoYW5kbGVJZ25vcmVNZWRpYVRvZ2dsZSA9IChldmVudDogRXZlbnQpID0+XG4gICAge1xuICAgICAgICBpZiAoIWV2ZW50LnRhcmdldCkgcmV0dXJuXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50XG4gICAgICAgIGNvbnN0IGlnbm9yZU1lZGlhID0gISF0YXJnZXQuY2hlY2tlZFxuICAgICAgICB0aGlzLmxkbS5zZXRJZ25vcmVNZWRpYShpZ25vcmVNZWRpYSlcbiAgICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoeyBpZ25vcmVNZWRpYSB9KVxuICAgIH1cbn0iLCAiaW1wb3J0IHsgQ29tcGxleEVtaXR0ZXIgfSBmcm9tICdjaHJvbWEvdXRpbC9FbWl0dGVyJ1xuXG5pbnRlcmZhY2UgU2ltcGxlS2V5RXZlbnRcbntcbiAgICBrZXk6IHN0cmluZ1xufVxuXG4vKipcbiAqIFRoaXMgY2xhc3MgbGlzdGVucyBmb3Iga2V5cHJlc3MgYW5kIGFsbG93cyBzZXR0aW5nIGRpZmZlcmVudCBiZWhhdmlvcnNcbiAqIGZvciBkaWZmZXJlbnQga2V5cy5cbiAqL1xuZXhwb3J0IGNsYXNzIEtleUJpbmRpbmdzIGV4dGVuZHMgQ29tcGxleEVtaXR0ZXI8c3RyaW5nLCB2b2lkPlxue1xuICAgIGNvbnN0cnVjdG9yICgpXG4gICAge1xuICAgICAgICBzdXBlcigpXG5cbiAgICAgICAgLy8gTGlzdGVuIGZvciBldmVudHNcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleVByZXNzLCB7IGNhcHR1cmU6IHRydWUsIHBhc3NpdmU6IHRydWUgfSlcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLmhhbmRsZU1lc3NhZ2UpXG4gICAgfVxuXG4gICAgZGVzdHJ1Y3RvciAoKVxuICAgIHtcbiAgICAgICAgLy8gU3RvcCBsaXN0ZW5pbmdcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleVByZXNzKVxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuaGFuZGxlTWVzc2FnZSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNwb25kIHRvIGtleSBwcmVzc2VzIGluIGZyYW1lcy5cbiAgICAgKi9cbiAgICBoYW5kbGVNZXNzYWdlID0gKGV2ZW50OiBNZXNzYWdlRXZlbnQpID0+XG4gICAge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSlcbiAgICAgICAgICAgIGlmIChkYXRhLmNocm9tYSAhPT0gJ3NjcmlwdHMnKSByZXR1cm5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YS5rZXkgIT09ICdzdHJpbmcnKSByZXR1cm5cbiAgICAgICAgICAgIHRoaXMuZW1pdChkYXRhLmtleSlcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzcG9uZCB0byBrZXkgcHJlc3NlcyBieSBlbWl0dGluZy5cbiAgICAgKi9cbiAgICBoYW5kbGVLZXlQcmVzcyA9IChldmVudDogU2ltcGxlS2V5RXZlbnQpID0+XG4gICAge1xuICAgICAgICB0aGlzLmVtaXQoZXZlbnQua2V5KVxuICAgIH1cbn0iLCAiaW1wb3J0IHsgS2V5QmluZGluZ3MgfSBmcm9tICcuL0tleUJpbmRpbmdzJ1xuXG5jb25zdCBiaW5kaW5ncyA9IG5ldyBLZXlCaW5kaW5ncygpXG5cbmV4cG9ydCBjb25zdCBiaW5kID0gYmluZGluZ3MuYWRkTGlzdGVuZXIuYmluZChiaW5kaW5ncykgYXMgdHlwZW9mIGJpbmRpbmdzLmFkZExpc3RlbmVyXG5leHBvcnQgY29uc3QgdW5iaW5kID0gYmluZGluZ3MucmVtb3ZlTGlzdGVuZXIuYmluZChiaW5kaW5ncykgYXMgdHlwZW9mIGJpbmRpbmdzLnJlbW92ZUxpc3RlbmVyIiwgImltcG9ydCB7IGZvcmNlRXhwbGljaXRCYWNrZ3JvdW5kLCBzZXRFbmFibGVkIH0gZnJvbSAnLi9mb3JjZUV4cGxpY2l0QmFja2dyb3VuZCdcblxuaW1wb3J0IHsgTGF6eURhcmtNb2RlIH0gZnJvbSAnLi9MYXp5RGFya01vZGUnXG5pbXBvcnQgeyBNZW51IH0gZnJvbSAnY2hyb21hL01lbnUnXG5pbXBvcnQgeyBiaW5kIH0gZnJvbSAnY2hyb21hL0tleUJpbmRpbmdzJ1xuXG5jb25zdCBsZG0gPSBuZXcgTGF6eURhcmtNb2RlKClcbmNvbnN0IG1lbnUgPSBuZXcgTWVudShsZG0pXG5cbi8vIFRPRE86IExvYWQgYW5kIGRlZmF1bHQgcnVudGltZSBvcHRpb25zLlxuXG4vLyBNYWtlIHN1cmUgdGhlIGluZGV4IC8gaHRtbCBoYXMgYW4gZXhwbGljaXQgYmFja2dyb3VuZC5cbmZvcmNlRXhwbGljaXRCYWNrZ3JvdW5kKClcblxuLy8gV2hlbiBkYXJrbW9kZSBjaGFuZ2VzLCBlbmFibGUgLyBkaXNhYmxlIGJhY2tncm91bmQgc2V0dGluZy5cbmxkbS5hZGRMaXN0ZW5lcihzZXRFbmFibGVkKVxuXG4vLyBXaXJlIGtleWJpbmRpbmdzLlxuYmluZCgnXHUyMjAyJywgKCkgPT4gbGRtLnRvZ2dsZSgpKVxuYmluZCgnXHUwMENFJywgKCkgPT4gbWVudS50b2dnbGUoKSlcbiJdLAogICJtYXBwaW5ncyI6ICJtQkFHTyxTQUFTQSxFQUFpREMsS0FBWUMsRUFDN0UsQ0FDSSxHQUFJLENBQ0FELEVBQUssR0FBR0MsQ0FBSSxDQUNoQixPQUFTQyxFQUFPLENBQ1osUUFBUSxNQUFNQSxDQUFLLENBQ3ZCLENBQ0osQ0NHTyxJQUFNQyxFQUFOLEtBQ1AsQ0FETyxjQUVILGVBQTZCLElBQUksSUFFakMsSUFBSSxNQUNKLENBQ0ksT0FBTyxLQUFLLFVBQVUsSUFDMUIsQ0FFQSxZQUFZQyxFQUNaLENBQ0ksS0FBSyxVQUFVLElBQUlBLENBQU8sQ0FDOUIsQ0FFQSxlQUFlQSxFQUNmLENBQ0ksS0FBSyxVQUFVLE9BQU9BLENBQU8sQ0FDakMsQ0FFQSxJQUFJQSxFQUNKLENBQ0ksT0FBTyxLQUFLLFVBQVUsSUFBSUEsQ0FBTyxDQUNyQyxD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TUosRUFBSyxPQUFPLENBQUMiLAogICJuYW1lcyI6IFsic2FmZUNhbGwiLCAiZnVuYyIsICJhcmdzIiwgImVycm9yIiwgIlNpbXBsZUVtaXR0ZXIiLCAiaGFuZGxlciIsICJtZXNzYWdlIiwgInNhZmVDYWxsIiwgIkNvbXBsZXhFbWl0dGVyIiwgImtleSIsICJlbWl0dGVyIiwgImxlcnAiLCAiYSIsICJiIiwgInQiLCAiZ2V0QmFja2dyb3VuZENvbG9yIiwgImNvbG9yIiwgImdldEVsZW1lbnRDb2xvciIsICJhIiwgInIiLCAibGVycCIsICJnIiwgImIiLCAibWF5YmVFbGVtZW50IiwgInBhcnNlQ29sb3IiLCAib3BlbiIsICJjbG9zZSIsICJpbnQiLCAidmFsdWUiLCAiZmFsbGJhY2siLCAib3AiLCAiUE9MTF9JTlRFUlZBTCIsICJCYWNrZ3JvdW5kQ29sb3JMaXN0ZW5lciIsICJTaW1wbGVFbWl0dGVyIiwgImNvbG9yIiwgImdldEJhY2tncm91bmRDb2xvciIsICJoYW5kbGVyIiwgInNhZmVDYWxsIiwgImJjbCIsICJCYWNrZ3JvdW5kQ29sb3JMaXN0ZW5lciIsICJiYWNrZ3JvdW5kQ29sb3IiLCAicHJvbWlzZUNhY2hlIiwgImdldENhY2hlZCIsICJjYiIsICJzZXRDYWNoZWQiLCAicHJvbWlzZSIsICJ3YWl0Rm9yIiwgInZhbHVlIiwgImNhY2hlZCIsICJyZXNvbHZlIiwgImxvb3AiLCAiYm9keSIsICJ3YWl0Rm9yQm9keSIsICJoZWFkIiwgIndhaXRGb3JIZWFkIiwgImVhcmxpZXN0U3R5bGUiLCAiZW5hYmxlZCIsICJ1cGRhdGVIVE1MQmFja2dyb3VuZCIsICJjb2xvciIsICJiYWNrZ3JvdW5kQ29sb3IiLCAiaGVhZCIsICJ3YWl0Rm9ySGVhZCIsICJmb3JjZUV4cGxpY2l0QmFja2dyb3VuZCIsICJzZXRFbmFibGVkIiwgInZhbHVlIiwgIkRBUktfTU9ERSIsICJPTiIsICJPRkYiLCAiaHRtbCIsICJkZWZhdWx0Q29uZmlnIiwgIkxhenlEYXJrTW9kZSIsICJTaW1wbGVFbWl0dGVyIiwgImNvbmZpZyIsICJza2lwVXBkYXRlIiwgInZhbHVlIiwgIk1lbnVfZGVmYXVsdCIsICJNZW51IiwgImxkbSIsICJldmVudCIsICJpZ25vcmVNZWRpYSIsICJ3YWl0Rm9yQm9keSIsICJlbGVtZW50IiwgIk1lbnVfZGVmYXVsdCIsICJlIiwgImlnbm9yZU1lZGlhSW5wdXQiLCAieCIsICJ5IiwgInJlY3QiLCAiS2V5QmluZGluZ3MiLCAiQ29tcGxleEVtaXR0ZXIiLCAiZXZlbnQiLCAiZGF0YSIsICJiaW5kaW5ncyIsICJLZXlCaW5kaW5ncyIsICJiaW5kIiwgInVuYmluZCIsICJsZG0iLCAiTGF6eURhcmtNb2RlIiwgIm1lbnUiLCAiTWVudSIsICJmb3JjZUV4cGxpY2l0QmFja2dyb3VuZCIsICJzZXRFbmFibGVkIiwgImJpbmQiXQp9Cg==
